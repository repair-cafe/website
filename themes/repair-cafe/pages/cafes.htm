title = "Cafes"
url = "/cafes"
layout = "default"
is_hidden = 0

[eventList]

[categoryList]
==
{% put page %}
    <div class="events">
        <div class="page-header disable-map">
            <div class="page-header-content-container container text-center py-5">
                <div class="page-header-content row justify-content-center">
                    <div class="col-lg-8">
                        <h1>{{ 'cafes.title'|_ }}</h1>
                        {% partial 'components/event-search-form' showCategories=true categories=categoryList.categoryOptions %}
                    </div>
                </div>
            </div>
        </div>
        <div id="eventsMap"></div>
        <div class="page-content disable-map">
            <div class="container">
                <script type="text/javascript">
                    var repaircafe = {};
                    repaircafe['events'] = {{ eventList.eventsForMap|raw }};
                    repaircafe['config'] = {
                        'mapboxAccessToken': '{{ eventList.mapboxAccessToken }}'
                    };
                    repaircafe['labels'] = {
                        'date': '{{ "cafes.map.date"|_ }}',
                        'address': '{{ "cafes.map.address"|_ }}',
                        'categoryTitle': '{{ "cafes.map.category_title"|_ }}'
                    };
                </script>
                {% partial 'components/eventlist' eventList=eventList %}
            </div>
        </div>
    </div>
{% endput %}

{% put scripts %}
    <script type="text/javascript" src="{{ 'assets/js/events-map.min.js'|theme }}"></script>
{% endput %}
